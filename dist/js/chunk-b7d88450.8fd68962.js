(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7d88450"],{5553:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-screen flex w-full bg-img"},[s("div",{staticClass:"vx-col sm:w-3/5 md:w-3/5 lg:w-3/4 xl:w-3/5 mx-auto self-center"},[s("vx-card",[s("div",{staticClass:"full-page-bg-color",attrs:{slot:"no-body"},slot:"no-body"},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col hidden sm:hidden md:hidden lg:block lg:w-1/2 mx-auto self-center"},[s("img",{staticClass:"mx-auto",attrs:{src:a("e0fb"),alt:"login"}})]),s("div",{staticClass:"vx-col sm:w-full md:w-full lg:w-1/2 mx-auto self-center  d-theme-dark-bg"},[s("div",{staticClass:"p-8"},[s("div",{staticClass:"vx-card__title mb-8"},[s("h4",{staticClass:"mb-4"},[t._v("Cambiar la Clave")]),s("p",[t._v("Ingrese la Clave Nueva")])]),s("div",{staticClass:"vx-card__title mb-8"},[s("span",{staticClass:"ml-2"},[t._v("Usuario:"+t._s(t.usuario))])]),s("div",{staticClass:"vx-card__title mb-8"},[s("span",{staticClass:"ml-2"},[t._v("Correo:"+t._s(t.email))])]),s("vs-input",{staticClass:"w-full mb-6",attrs:{type:"password","label-placeholder":"Password"},on:{change:t.onchangeConsiguePass},model:{value:t.claveActual,callback:function(e){t.claveActual=e},expression:"claveActual"}}),s("vs-input",{staticClass:"w-full mb-8",attrs:{type:"password","label-placeholder":"Confirm Password"},on:{change:t.onchangeConsiguePass2},model:{value:t.claveActual2,callback:function(e){t.claveActual2=e},expression:"claveActual2"}}),s("div",{staticClass:"flex flex-wrap justify-between flex-col-reverse sm:flex-row"},[s("vs-button",{staticClass:"w-full sm:w-auto mb-8 sm:mb-auto mt-3 sm:mt-auto",attrs:{type:"border",to:"/pages/login"}},[t._v("Go Back To Login")]),s("vs-button",{staticClass:"w-full sm:w-auto",attrs:{realizaCambio:""},on:{click:function(e){return t.realizaCambio("C")}}},[t._v("Reset")])],1)],1)])])])]),s("vs-alert",{staticClass:"text-dark mt-5",attrs:{active:t.inputValid,color:t.AlertColor}},[t._v(" "+t._s(t.SystemMessage)+" ")])],1)])},i=[],o=(a("78ce"),a("88fa")),r={created:function(){if(this.$route.params.KEY===this.getClave&&this.getClave.length>0){var t=this.$route.params.KEY;t=t.substr(0,32),this.$store.commit("dsoaLogin/MUTSETCLAVECONTROL",""),this.usuario=this.getProfile.Username,this.email=this.getProfile.Email}else this.$router.push("/pages/login").catch((function(){}));this.usuario=this.getProfile.Username},watch:{getProfile:function(){this.$vs.notify({title:"GoP informa",text:"Cambio Realizado con Exito ",iconPack:"feather",icon:"icon-alert-circle",color:"warning"})},getProfile2:function(){this.$vs.notify({title:"GoP informa",text:"Cambio Realizado con Exito ",iconPack:"feather",icon:"icon-alert-circle",color:"warning"})},getErrorLogin:function(){"0"!=this.getErrorLogin&&("1002"==this.getErrorLogin?(this.mensajeLogin="Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo ",this.$vs.notify({title:"GoP informa",text:"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo ",iconPack:"feather",icon:"icon-alert-circle",color:"warning"})):this.$vs.notify({title:"GoP informa",text:"Se ha producido un error en Login ",iconPack:"feather",icon:"icon-alert-circle",color:"warning"}))}},data:function(){return{usuario:"",email:"",claveActual:"",claveActual2:"",paso1:!1,paso2:!1,paso3:!1,SystemMessage:"..."}},computed:{getProfile:function(){return this.$store.state.dsoaLogin.profile[0]},getProfile2:function(){return this.$store.state.dsoaLogin.profile},getClave:function(){return this.$store.state.dsoaLogin.claveCambioClave},getErrorLogin:function(){return this.$store.state.dsoaLogin.errorProfile},getEncripta:function(){return this.$store.state.dsoaLogin.respuestaEncriptado}},methods:{onchangeConsiguePass:function(){var t=this.claveActual;this.$store.dispatch("dsoaLogin/acLoginEncripta",t)},onchangeConsiguePass2:function(){null!=this.getEncripta?this.paso1=!0:this.paso1=!1,this.claveActual===this.claveActual2?this.paso2=!0:(this.paso2=!1,this.SystemMessage="No hay Coincidencia entre las claves Ingresadas")},realizaCambio:function(t){if(this.paso1&&this.paso2){var e="O",a={MODO:"E",OBJECTID:"97",CREDENCIAL:"REPLACECREDENCIAL",USERNAME:this.getProfile.Username,REGISTROSXPAGINA:"",PAGINA:"",ORDERBY:""},s={action:t,username:this.getProfile.Username,password:this.getEncripta,direccionIP:this.getPublicIp,conexionADM:"security",credencial:"REPLACECREDENCIAL",celular:"",email:"",nombre:"",empresa:"",passwordOld:"",keySecurity:""},i=o["h"](s),r=[],n={NOMBRE:"XML_SOLICITUD",OPERADOR:"=",VALOR1:i,VALOR2:"",CDATA:"1"};r.push(n),this.paramtxt=o["r"](r),this.headertxt=o["g"](a);var l={header:this.headertxt,parametros:this.paramtxt,filas:""};this.$store.commit("dsoaLogin/MUTSETURL","O"),this.$store.commit("dsoaLogin/MUTSETPETICIONTXT",l);var c=Date.now(),u={dml:"E",ObjectId:"97",credencial:c,formatoenvio:"N",formatorecibe:"N",indicador:"6",origenUrl:e,tipoLogin:t};this.$store.commit("dsoaLogin/MUTSETPROFILE",[]),this.$store.dispatch("dsoaLogin/acLoginDsoa",u)}}}},n=r,l=a("2877"),c=Object(l["a"])(n,s,i,!1,null,null,null);e["default"]=c.exports},"78ce":function(t,e,a){var s=a("5ca1");s(s.S,"Date",{now:function(){return(new Date).getTime()}})},e0fb:function(t,e,a){t.exports=a.p+"img/reset-password.965156da.png"}}]);
//# sourceMappingURL=chunk-b7d88450.8fd68962.js.map