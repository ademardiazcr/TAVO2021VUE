{"version":3,"sources":["webpack:///./src/views/apps/chat/Chat.vue?adf6","webpack:///./src/views/apps/chat/Chat.vue?127b","webpack:///./src/views/apps/chat/ChatLog.vue?914a","webpack:///src/views/apps/chat/ChatLog.vue","webpack:///./src/views/apps/chat/ChatLog.vue?f3c6","webpack:///./src/views/apps/chat/ChatLog.vue","webpack:///./src/views/apps/chat/ChatNavbar.vue?89f3","webpack:///src/views/apps/chat/ChatNavbar.vue","webpack:///./src/views/apps/chat/ChatNavbar.vue?4c7d","webpack:///./src/views/apps/chat/ChatNavbar.vue","webpack:///./src/views/apps/chat/UserProfile.vue?6f59","webpack:///src/views/apps/chat/UserProfile.vue","webpack:///./src/views/apps/chat/UserProfile.vue?238d","webpack:///./src/views/apps/chat/UserProfile.vue","webpack:///src/views/apps/chat/Chat.vue","webpack:///./src/views/apps/chat/Chat.vue?7176","webpack:///./src/views/apps/chat/Chat.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","clickNotClose","model","value","callback","$$v","isChatSidebarActive","expression","activeProfileSidebar","userProfileId","isLoggedInUserProfileView","on","closeProfileSidebar","searchQuery","$event","toggleChatSidebar","scrollbarTag","key","$vs","rtl","tag","settings","class","colorConectado","_v","_s","getChatconnect","recarga","_l","contact","index","updateActiveChatUser","uid","chatLastMessaged","time","chatUnseenMessages","isActiveChatUser","_e","activeChatUser","isChatPinned","showProfileSidebar","toggleIsChatPinned","ref","type","indexOf","_k","keyCode","sendMsg","typedMessage","stopPropagation","staticRenderFns","chatData","msg","isSameDay","toDate","hasSentPreviousMsg","isSent","senderImg","textContent","props","userId","Number","required","computed","chat","activeUserImg","$store","state","AppActiveUser","photoURL","isSentByActiveUser","methods","date_time_to","getFullYear","date_time_from","month","scrollToBottom","$nextTick","updated","mounted","component","$emit","getStatusColor","getConts2","displayName","isPinnedLocal","isLoggedInUser","activeLocal","slot","chatUser","statusColor","counterDanger","about","status","active","Boolean","data","maxScrollbarLength","wheelSpeed","getters","get","set","userStatus","components","VuePerfectScrollbar","created","contactId","$route","params","commit","setTimeout","store","vm","NumEmpresa","getProfile","Empresa","userid","num_user","getfetContacts","datos","getChatContacts","setSidebarWidth","$socket","connect","username","Username","id","String","Date","isSeen","emit","payload","response","console","log","error","tokenChat","mensajeConectado","chatMsg","messages","isHidden","searchContact","watch","setMessage","windowWidth","getCurrentContact","usuariochat","parseInt","chatconnect","getRecargar","recargar","currentContact","getAppActiveUser","getchats","chats","dsoaLogin","profile","getTokenChat","token","unseenMsg","activeUser","chatContacts","contacts","chatSearchQuery","dispatch","val","$router","go","currentRoute","getUserStatus","isActiveUser","userSend","getfetChats","isPinned","openOnLeft","sendusernum","usernameOriginal","JSON","stringify","scroll_el","scrollTop","$refs","chatLog","scrollHeight","ChatContact","UserProfile","ChatNavbar","ChatLog"],"mappings":"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","file":"js/chunk-7a3bc2ee.a4e9823c.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.getTokenChat)?_c('div',{staticClass:\"border border-solid d-theme-border-grey-light rounded relative overflow-hidden\",attrs:{\"id\":\"chat-app\"}},[_c('vs-sidebar',{staticClass:\"items-no-padding\",attrs:{\"parent\":\"#chat-app\",\"click-not-close\":_vm.clickNotClose,\"hidden-background\":_vm.clickNotClose,\"id\":\"chat-list-sidebar\"},model:{value:(_vm.isChatSidebarActive),callback:function ($$v) {_vm.isChatSidebarActive=$$v},expression:\"isChatSidebarActive\"}},[_c('user-profile',{staticClass:\"user-profile-container\",attrs:{\"active\":_vm.activeProfileSidebar,\"userId\":_vm.userProfileId,\"isLoggedInUser\":_vm.isLoggedInUserProfileView},on:{\"closeProfileSidebar\":_vm.closeProfileSidebar}}),_c('div',{staticClass:\"chat__profile-search flex p-4\"},[_c('div',{staticClass:\"relative inline-flex\"}),_c('vs-input',{staticClass:\"w-full mx-5 input-rounded-full\",attrs:{\"icon-no-border\":\"\",\"icon\":\"icon-search\",\"icon-pack\":\"feather\",\"placeholder\":\"Search or start a new chat\"},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('feather-icon',{staticClass:\"md:inline-flex lg:hidden -ml-3 cursor-pointer\",attrs:{\"icon\":\"XIcon\"},on:{\"click\":function($event){return _vm.toggleChatSidebar(false)}}})],1),_c('vs-divider',{staticClass:\"d-theme-border-grey-light m-0\"}),_c(_vm.scrollbarTag,{key:_vm.$vs.rtl,tag:\"component\",staticClass:\"chat-scroll-area pt-4\",attrs:{\"settings\":_vm.settings}},[_c('p',{staticClass:\"ml-4\",class:_vm.colorConectado},[_vm._v(\"Estado del chat: \"+_vm._s(_vm.getChatconnect))]),_c('vs-button',{staticClass:\"ml-4\",attrs:{\"color\":\"danger\",\"type\":\"gradient\",\"icon\":\"rewind\",\"icon-pack\":\"feather\"},on:{\"click\":_vm.recarga}},[_vm._v(\"Cargar Contactos\")]),_c('div',{staticClass:\"chat__chats-list mb-8\"},[_c('ul',{staticClass:\"chat__active-chats bordered-items\"},_vm._l((_vm.chatContacts),function(contact,index){return _c('li',{key:index,staticClass:\"cursor-pointer\",on:{\"click\":function($event){return _vm.updateActiveChatUser(contact.uid)}}},[(_vm.chatLastMessaged(contact.uid)  &&  contact.uid>0)?_c('chat-contact',{attrs:{\"showLastMsg\":\"\",\"contact\":contact,\"lastMessaged\":_vm.chatLastMessaged(contact.uid).time,\"unseenMsg\":_vm.chatUnseenMessages(contact.uid),\"isActiveChatUser\":_vm.isActiveChatUser(contact.uid)}}):_vm._e()],1)}),0)]),_c('div',{staticClass:\"chat__contacts\"},[_c('h3',{staticClass:\"text-primary mb-5 px-4\"},[_vm._v(\"Contactos\")]),_c('ul',{staticClass:\"chat__contacts bordered-items\"},_vm._l((_vm.contacts),function(contact){return _c('li',{key:contact.uid,staticClass:\"cursor-pointer\",on:{\"click\":function($event){return _vm.updateActiveChatUser(contact.uid)}}},[_c('chat-contact',{attrs:{\"contact\":contact}})],1)}),0)])],1)],1),_c('div',{staticClass:\"chat__bg no-scroll-content chat-content-area border border-solid d-theme-border-grey-light border-t-0 border-r-0 border-b-0\",class:{\n      'sidebar-spacer--wide': _vm.clickNotClose,\n      'flex items-center justify-center': _vm.activeChatUser === null,\n    }},[(_vm.activeChatUser)?[_c('div',{staticClass:\"chat__navbar\"},[_c('chat-navbar',{attrs:{\"isSidebarCollapsed\":!_vm.clickNotClose,\"user-id\":_vm.activeChatUser,\"isPinnedProp\":_vm.isChatPinned},on:{\"openContactsSidebar\":function($event){return _vm.toggleChatSidebar(true)},\"showProfileSidebar\":_vm.showProfileSidebar,\"toggleIsChatPinned\":_vm.toggleIsChatPinned}})],1),_c(_vm.scrollbarTag,{key:_vm.$vs.rtl,ref:\"chatLogPS\",tag:\"component\",staticClass:\"chat-content-scroll-area border border-solid d-theme-border-grey-light\",attrs:{\"settings\":_vm.settings}},[_c('div',{ref:\"chatLog\",staticClass:\"chat__log\"},[(_vm.activeChatUser)?_c('chat-log',{attrs:{\"userId\":_vm.activeChatUser}}):_vm._e()],1)]),_c('div',{staticClass:\"chat__input flex p-4 bg-white\"},[_c('vs-input',{staticClass:\"flex-1\",attrs:{\"placeholder\":\"Su Mensaje aqui\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMsg($event)}},model:{value:(_vm.typedMessage),callback:function ($$v) {_vm.typedMessage=$$v},expression:\"typedMessage\"}}),_c('vs-button',{staticClass:\"bg-primary-gradient ml-4\",attrs:{\"type\":\"filled\"},on:{\"click\":_vm.sendMsg}},[_vm._v(\"Send\")])],1)]:[_c('div',{staticClass:\"flex flex-col items-center\"},[_c('feather-icon',{staticClass:\"mb-4 bg-white p-8 shadow-md rounded-full\",attrs:{\"icon\":\"MessageSquareIcon\",\"svgClasses\":\"w-16 h-16\"}}),_c('h4',{staticClass:\"py-2 px-4 bg-white shadow-md rounded-full cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleChatSidebar(true)}}},[_vm._v(\"\\n          Start Conversation\\n        \")])],1)]],2)],1):_c('div',[_c('div',{staticClass:\"flex flex-col items-center\"},[_vm._v(\"\\n    conctado2: \"+_vm._s(_vm.getChatconnect)+\"\\n  \")]),_c('div',{staticClass:\"flex flex-col items-center\"},[_c('feather-icon',{staticClass:\"mb-4 bg-white p-8 shadow-md rounded-full\",attrs:{\"icon\":\"MessageSquareIcon\",\"svgClasses\":\"w-16 h-16\"}}),_c('h4',{staticClass:\"py-2 px-4 bg-white shadow-md rounded-full cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();return _vm.recarga()}}},[_vm._v(\"\\n      Start Conversation\\n    \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.chatData)?_c('div',{staticClass:\"m-8\",attrs:{\"id\":\"component-chat-log\"}},_vm._l((_vm.chatData.msg),function(msg,index){return _c('div',{key:index,staticClass:\"msg-grp-container\"},[(_vm.chatData.msg[index-1])?[(!_vm.isSameDay(msg.time, _vm.chatData.msg[index-1].time))?_c('vs-divider',{staticClass:\"msg-time\"},[_c('span',[_vm._v(_vm._s(_vm.toDate(msg.time)))])]):_vm._e(),(!_vm.hasSentPreviousMsg(_vm.chatData.msg[index-1].isSent, msg.isSent))?_c('div',{staticClass:\"spacer mt-8\"}):_vm._e()]:_vm._e(),_c('div',{staticClass:\"flex items-start\",class:[{'flex-row-reverse' : msg.isSent}]},[(_vm.chatData.msg[index-1])?[((!_vm.hasSentPreviousMsg(_vm.chatData.msg[index-1].isSent, msg.isSent) || !_vm.isSameDay(msg.time, _vm.chatData.msg[index-1].time)))?[_c('vs-avatar',{staticClass:\"border-2 shadow border-solid border-white m-0 flex-shrink-0\",class:msg.isSent ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3',attrs:{\"size\":\"40px\",\"src\":_vm.senderImg(msg.isSent)}})]:_vm._e()]:_vm._e(),(index == 0)?[_c('vs-avatar',{staticClass:\"border-2 shadow border-solid border-white m-0 flex-shrink-0\",class:msg.isSent ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3',attrs:{\"size\":\"40px\",\"src\":_vm.senderImg(msg.isSent)}})]:_vm._e(),(_vm.chatData.msg[index-1])?[(!(!_vm.hasSentPreviousMsg(_vm.chatData.msg[index-1].isSent, msg.isSent) || !_vm.isSameDay(msg.time, _vm.chatData.msg[index-1].time)))?_c('div',{staticClass:\"mr-16\"}):_vm._e()]:_vm._e(),_c('div',{staticClass:\"msg break-words relative shadow-md rounded py-3 px-4 mb-2 rounded-lg max-w-sm\",class:{'bg-primary-gradient text-white': msg.isSent, 'border border-solid border-transparent bg-white': !msg.isSent}},[_c('span',[_vm._v(_vm._s(msg.textContent))])])],2)],2)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n    File Name: ChatLog.vue\n    Description: Chat Application - Log of chat\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n    <div id=\"component-chat-log\" class=\"m-8\" v-if=\"chatData\">\n       \n        <div v-for=\"(msg, index) in chatData.msg\" class=\"msg-grp-container\" :key=\"index\">\n     \n\n \n            <!-- If previous msg is older than current time -->\n\n            <template v-if=\"chatData.msg[index-1]\">\n                <vs-divider v-if=\"!isSameDay(msg.time, chatData.msg[index-1].time)\" class=\"msg-time\">\n                    <span>{{ toDate(msg.time) }}</span>\n                </vs-divider>\n  \n                <div class=\"spacer mt-8\" v-if=\"!hasSentPreviousMsg(chatData.msg[index-1].isSent, msg.isSent)\"></div>\n\n            </template>\n\n            <div class=\"flex items-start\" :class=\"[{'flex-row-reverse' : msg.isSent}]\">\n              \n\n                <template v-if=\"chatData.msg[index-1]\">\n                    <template v-if=\"(!hasSentPreviousMsg(chatData.msg[index-1].isSent, msg.isSent) || !isSameDay(msg.time, chatData.msg[index-1].time))\">\n                        <vs-avatar size=\"40px\" class=\"border-2 shadow border-solid border-white m-0 flex-shrink-0\" :class=\"msg.isSent ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3'\" :src=\"senderImg(msg.isSent)\"></vs-avatar>\n                    </template>\n                </template>\n\n                <template v-if=\"index == 0\">\n                    <vs-avatar size=\"40px\" class=\"border-2 shadow border-solid border-white m-0 flex-shrink-0\" :class=\"msg.isSent ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3'\" :src=\"senderImg(msg.isSent)\"></vs-avatar>\n                </template>\n\n                <template v-if=\"chatData.msg[index-1]\">\n                    <div class=\"mr-16\" v-if=\"!(!hasSentPreviousMsg(chatData.msg[index-1].isSent, msg.isSent) || !isSameDay(msg.time, chatData.msg[index-1].time))\"></div>\n                </template>\n\n                <div class=\"msg break-words relative shadow-md rounded py-3 px-4 mb-2 rounded-lg max-w-sm\" :class=\"{'bg-primary-gradient text-white': msg.isSent, 'border border-solid border-transparent bg-white': !msg.isSent}\">\n                    <span>{{ msg.textContent }}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default{\n  props: {\n    userId: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n     \n\n    chatData () { \n      let chat=this.$store.getters['chat/chatDataOfUser'](this.userId); \n      return chat;\n      \n    },\n     \n\n    activeUserImg () {\n      return this.$store.state.AppActiveUser.photoURL\n    },\n    senderImg () {\n      return (isSentByActiveUser) => {\n        if (isSentByActiveUser) return this.$store.state.AppActiveUser.photoURL\n        else return this.$store.getters['chat/contact'](this.userId).photoURL\n      }\n    },\n    hasSentPreviousMsg () {\n      return (last_sender, current_sender) => last_sender === current_sender\n    }\n  },\n  methods: {\n    isSameDay (time_to, time_from) {\n      const date_time_to = new Date(Date.parse(time_to))\n      const date_time_from = new Date(Date.parse(time_from))\n      return date_time_to.getFullYear() === date_time_from.getFullYear() &&\n                date_time_to.getMonth() === date_time_from.getMonth() &&\n                date_time_to.getDate() === date_time_from.getDate()\n    },\n    toDate (time) {\n      const locale = 'en-us'\n      const date_obj = new Date(Date.parse(time))\n      const monthName = date_obj.toLocaleString(locale, {\n        month: 'short'\n      })\n      return `${date_obj.getDate()  } ${   monthName}`\n    },\n    scrollToBottom () {\n      this.$nextTick(() => {\n        this.$parent.$el.scrollTop = this.$parent.$el.scrollHeight\n      })\n    }\n  },\n  updated () {\n    this.scrollToBottom()\n  },\n  mounted () {\n    this.scrollToBottom()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatLog.vue?vue&type=template&id=59c48866&\"\nimport script from \"./ChatLog.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.userId != null)?_c('div',{staticClass:\"chat__header\"},[_c('vs-navbar',{staticClass:\"p-4 flex navbar-custom\",attrs:{\"color\":\"white\",\"type\":\"flat\"}},[_c('div',{staticClass:\"relative flex mr-4\"},[(_vm.isSidebarCollapsed)?_c('feather-icon',{staticClass:\"mr-4 cursor-pointer\",attrs:{\"icon\":\"MenuIcon\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('openContactsSidebar')}}}):_vm._e(),_c('div',{staticClass:\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\",class:'bg-' + _vm.getStatusColor(false)})],1),_c('h6',[_vm._v(_vm._s(_vm.getConts2.displayName))]),_c('vs-spacer'),_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"StarIcon\",\"svgClasses\":[{'text-warning stroke-current': _vm.isPinnedLocal}, 'w-6', 'h-6']},on:{\"click\":function($event){$event.stopPropagation();_vm.isPinnedLocal = !_vm.isPinnedLocal}}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n    File Name: ChatNavbar.vue\n    Description: Chat Application - Chat navbar\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n\n\n    comentario de COMPONETE\n========================================================================================== -->\n\n<template>\n<div v-if=\"userId != null\" class=\"chat__header\">\n     \n  \n    <vs-navbar class=\"p-4 flex navbar-custom\" color=\"white\" type=\"flat\">\n        <div class=\"relative flex mr-4\">\n          \n            <feather-icon icon=\"MenuIcon\" class=\"mr-4 cursor-pointer\" v-if=\"isSidebarCollapsed\" \n            @click.stop=\"$emit('openContactsSidebar')\" />\n\n            <!--vs-avatar class=\"m-0 border-2 border-solid border-white\" size=\"40px\" :src=\"userDetails.photoURL\" \n            @click.stop=\"$emit('showProfileSidebar', userId)\" /-->\n\n            <div class=\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\" \n            :class=\"'bg-' + getStatusColor(false)\"></div>\n        </div>\n\n        <h6>{{ getConts2.displayName }}</h6>\n        <vs-spacer></vs-spacer>\n        <feather-icon icon=\"StarIcon\" class=\"cursor-pointer\" :svgClasses=\"[{'text-warning stroke-current': isPinnedLocal}, 'w-6', 'h-6']\" \n        @click.stop=\"isPinnedLocal = !isPinnedLocal\"></feather-icon>\n    </vs-navbar>\n</div>\n</template>\n\n<script>\nexport default {\n    props: {\n        userId: {\n            type: Number,\n            required: true\n        },\n        isPinnedProp: {\n            type: Boolean,\n            required: true\n        },\n        isSidebarCollapsed: {\n            type: Boolean,\n            required: true\n        }\n    },\n    computed: {\n        isPinnedLocal: {\n            get() {\n                return this.isPinnedProp\n            },\n            set(val) {\n                const chatData = this.$store.getters['chat/chatDataOfUser'](this.userId)\n                if (chatData) {\n                    const payload = {\n                        id: this.userId,\n                        value: val\n                    }\n                    this.$store.dispatch('chat/toggleIsPinned', payload)\n                        .then(() => {\n                            this.$emit('toggleIsChatPinned', val)\n                        })\n                        .catch((err) => {\n                            console.error(err)\n                        })\n                } else {\n                    this.$emit('toggleIsChatPinned', val)\n                }\n            }\n        },\n        \n        getConts2() \n        { \n         \n        return  this.$store.getters['chat/contact'](this.userId)\n         },\n        getStatusColor() {\n            return (isActiveUser) => {\n                \n                const userStatus = this.getUserStatus(isActiveUser)\n\n                if (userStatus === 'online') {\n                    return 'success'\n                } else if (userStatus === 'do not disturb') {\n                    return 'danger'\n                } else if (userStatus === 'away') {\n                    return 'warning'\n                } else {\n                    return 'grey'\n                }\n            }\n        }\n    },\n    methods: {\n       \n        getUserStatus(isActiveUser) {\n            return true\n            //return isActiveUser ? this.$store.state.AppActiveUser.status : this.getConts2.status\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatNavbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatNavbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatNavbar.vue?vue&type=template&id=5daae758&\"\nimport script from \"./ChatNavbar.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatNavbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"parentx-demo-2\"}},[_c('vs-sidebar',{staticClass:\"items-no-padding\",attrs:{\"parent\":\"#chat-app\",\"position-right\":!_vm.isLoggedInUser,\"hidden-background\":false,\"id\":\"chat-profile-sidebar\"},model:{value:(_vm.activeLocal),callback:function ($$v) {_vm.activeLocal=$$v},expression:\"activeLocal\"}},[_c('div',{staticClass:\"header-sidebar relative flex flex-col p-0\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\",\"svgClasses\":\"m-2 cursor-pointer absolute top-0 right-0\"},on:{\"click\":function($event){return _vm.$emit('closeProfileSidebar', false)}}}),_c('div',{staticClass:\"relative inline-flex mx-auto mb-5 mt-6\"},[_c('vs-avatar',{staticClass:\"m-0 border-white border-2 border-solid shadow-md\",attrs:{\"src\":_vm.chatUser.photoURL,\"size\":\"70px\"}}),_c('div',{staticClass:\"h-5 w-5 border-white border-2 border-solid rounded-full absolute right-0 bottom-0\",class:'bg-' + _vm.statusColor})],1),_vm._v(\"\\nuserProfile\\n                \"),_c('h4',{staticClass:\"mr-2 self-center\"},[_vm._v(_vm._s(_vm.chatUser.displayName))])],1),_c(_vm.scrollbarTag,{key:_vm.$vs.rtl,tag:\"component\",staticClass:\"scroll-area\",attrs:{\"settings\":_vm.settings}},[_c('div',{staticClass:\"p-8\"},[_c('h6',{staticClass:\"mb-2\",class:{'ml-4': _vm.isLoggedInUser}},[_vm._v(\"About\")]),(_vm.isLoggedInUser)?_c('vs-textarea',{staticClass:\"mb-10\",attrs:{\"counter\":\"120\",\"maxlength\":\"120\",\"counter-danger\":_vm.counterDanger,\"rows\":\"5\"},on:{\"update:counterDanger\":function($event){_vm.counterDanger=$event},\"update:counter-danger\":function($event){_vm.counterDanger=$event}},model:{value:(_vm.about),callback:function ($$v) {_vm.about=$$v},expression:\"about\"}}):_c('p',[_vm._v(_vm._s(_vm.chatUser.about))]),(_vm.isLoggedInUser)?_c('div',{staticClass:\"userProfile__status\"},[_c('h6',{staticClass:\"mb-4\"},[_vm._v(\"Status\")]),_c('ul',[_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"online\",\"color\":\"success\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Active\")])],1),_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"do not disturb\",\"color\":\"danger\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Do Not Disturb\")])],1),_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"away\",\"color\":\"warning\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Away\")])],1),_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"offline\",\"color\":\"grey\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Offline\")])],1)])]):_vm._e()],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n    File Name: UserProfile.vue\n    Description: user profile sidebar\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n    <div id=\"parentx-demo-2\">\n\n        <vs-sidebar parent=\"#chat-app\" :position-right=\"!isLoggedInUser\" :hidden-background=\"false\" v-model=\"activeLocal\" id=\"chat-profile-sidebar\" class=\"items-no-padding\">\n\n            <div class=\"header-sidebar relative flex flex-col p-0\" slot=\"header\">\n                <feather-icon icon=\"XIcon\" svgClasses=\"m-2 cursor-pointer absolute top-0 right-0\" @click=\"$emit('closeProfileSidebar', false)\"></feather-icon>\n\n\n                <div class=\"relative inline-flex mx-auto mb-5 mt-6\">\n                    <vs-avatar class=\"m-0 border-white border-2 border-solid shadow-md\" :src=\"chatUser.photoURL\" size=\"70px\" />\n                    <div class=\"h-5 w-5 border-white border-2 border-solid rounded-full absolute right-0 bottom-0\" :class=\"'bg-' + statusColor\"></div>\n                </div>\nuserProfile\n                <h4 class=\"mr-2 self-center\">{{ chatUser.displayName }}</h4>\n            </div>\n\n            <component :is=\"scrollbarTag\" class=\"scroll-area\" :settings=\"settings\" :key=\"$vs.rtl\">\n            <div class=\"p-8\">\n\n                <h6 class=\"mb-2\" :class=\"{'ml-4': isLoggedInUser}\">About</h6>\n                <vs-textarea class=\"mb-10\" counter=\"120\" maxlength=\"120\" :counter-danger.sync=\"counterDanger\" v-model=\"about\" rows=\"5\" v-if=\"isLoggedInUser\" />\n                <p v-else>{{ chatUser.about }}</p>\n\n                <div class=\"userProfile__status\" v-if=\"isLoggedInUser\">\n                    <h6 class=\"mb-4\">Status</h6>\n                    <ul>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"online\" color=\"success\">Active</vs-radio>\n                        </li>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"do not disturb\" color=\"danger\">Do Not Disturb</vs-radio>\n                        </li>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"away\" color=\"warning\">Away</vs-radio>\n                        </li>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"offline\" color=\"grey\">Offline</vs-radio>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            </component>\n        </vs-sidebar>\n    </div>\n</template>\n\n<script>\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\n\nexport default {\n  props: {\n    userId: {\n      type: Number,\n      required: true\n    },\n    active: {\n      type: Boolean,\n      required: true\n    },\n    isLoggedInUser: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data () {\n    return {\n      counterDanger: false,\n      settings: { // perfectscrollbar settings\n        maxScrollbarLength: 60,\n        wheelSpeed: .60\n      }\n    }\n  },\n  computed: {\n    chatUser () {\n      return this.$store.getters['chat/chatUser'](this.userId)\n    },\n    activeLocal: {\n      get ()      { return this.active },\n      set (value) { this.$emit('closeProfileSidebar', value) }\n    },\n    about: {\n      get ()      { return this.chatUser.about },\n      set (value) { this.$store.dispatch('updateUserInfo', { about: value }) }\n    },\n    status: {\n      get ()      { return this.chatUser.status },\n      set (value) { this.$store.dispatch('updateUserInfo', { status: value }) }\n    },\n    statusColor () {\n      const userStatus = this.chatUser.status\n\n      if (userStatus === 'online') {\n        return 'success'\n      } else if (userStatus === 'do not disturb') {\n        return 'danger'\n      } else if (userStatus === 'away') {\n        return 'warning'\n      } else {\n        return 'grey'\n      }\n    },\n    scrollbarTag () {\n      return this.$store.getters.scrollbarTag\n    }\n  },\n  components: {\n    VuePerfectScrollbar\n  }\n}\n\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=6f4e1cfe&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- =========================================================================================\n    File Name: Chat.vue\n    Description: Chat Application - Stay connected\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n  <!-- USER PROFILE SIDEBAR -->\n\n  <div\n    v-if=\"getTokenChat\"\n    id=\"chat-app\"\n    class=\"border border-solid d-theme-border-grey-light rounded relative overflow-hidden\"\n  >\n    <!-- TOKEN CHAT:{{getTokenChat}}-->\n\n    <vs-sidebar\n      class=\"items-no-padding\"\n      parent=\"#chat-app\"\n      :click-not-close=\"clickNotClose\"\n      :hidden-background=\"clickNotClose\"\n      v-model=\"isChatSidebarActive\"\n      id=\"chat-list-sidebar\"\n    >\n      <user-profile\n        :active=\"activeProfileSidebar\"\n        :userId=\"userProfileId\"\n        class=\"user-profile-container\"\n        :isLoggedInUser=\"isLoggedInUserProfileView\"\n        @closeProfileSidebar=\"closeProfileSidebar\"\n      ></user-profile>\n\n      <div class=\"chat__profile-search flex p-4\">\n        <div class=\"relative inline-flex\">\n          <!--vs-avatar v-if=\"activeUser.photoURL\" class=\"m-0 border-2 border-solid border-white\" :src=\"activeUser.photoURL\" size=\"40px\" @click=\"showProfileSidebar(Number(activeUser.uid), true)\" /-->\n          <!--div\n            class=\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\"\n            :class=\"'bg-' + getStatusColor(true)\"\n          ></div-->\n        </div>\n        <vs-input\n          icon-no-border\n          icon=\"icon-search\"\n          icon-pack=\"feather\"\n          class=\"w-full mx-5 input-rounded-full\"\n          placeholder=\"Search or start a new chat\"\n          v-model=\"searchQuery\"\n        />\n\n        <feather-icon\n          class=\"md:inline-flex lg:hidden -ml-3 cursor-pointer\"\n          icon=\"XIcon\"\n          @click=\"toggleChatSidebar(false)\"\n        />\n      </div>\n\n      <vs-divider class=\"d-theme-border-grey-light m-0\" />\n\n      <component\n        :is=\"scrollbarTag\"\n        class=\"chat-scroll-area pt-4\"\n        :settings=\"settings\"\n        :key=\"$vs.rtl\"\n      >\n        <!-- ACTIVE CHATS LIST\n            TOKEN CHAT:{{getTokenChat}} -->\n\n        <p class=\"ml-4\" :class=\"colorConectado\">Estado del chat: {{ getChatconnect }}</p>\n          <vs-button\n            class=\"ml-4\"\n            color=\"danger\" \n            type=\"gradient\"\n            icon=\"rewind\"\n            icon-pack=\"feather\" \n            @click=\"recarga\"\n            >Cargar Contactos</vs-button\n          >\n        <div class=\"chat__chats-list mb-8\">\n          <!--h3 class=\"text-primary mb-5 px-4\">Chats Principal</h3-->\n          <ul class=\"chat__active-chats bordered-items\">\n            <li\n              class=\"cursor-pointer\"\n              v-for=\"(contact, index) in chatContacts\"\n              :key=\"index\"\n              @click=\"updateActiveChatUser(contact.uid)\"\n            >\n              <chat-contact  v-if=\"chatLastMessaged(contact.uid)  &&  contact.uid>0\"\n                showLastMsg\n                :contact=\"contact\"\n\n                :lastMessaged=\"chatLastMessaged(contact.uid).time\"\n                :unseenMsg=\"chatUnseenMessages(contact.uid)\"\n                :isActiveChatUser=\"isActiveChatUser(contact.uid)\"\n              ></chat-contact>\n            </li>\n          </ul>\n        </div>\n\n        <!-- CONTACTS LIST \n        CONTACTS LIST CHAT.VUE-->\n        <div class=\"chat__contacts\">\n          <h3 class=\"text-primary mb-5 px-4\">Contactos</h3>\n          <ul class=\"chat__contacts bordered-items\">\n            <li\n              class=\"cursor-pointer\"\n              v-for=\"contact in contacts\"\n              :key=\"contact.uid\"\n              @click=\"updateActiveChatUser(contact.uid)\"\n            >\n              <chat-contact :contact=\"contact\"> </chat-contact>\n            </li>\n          </ul>\n        </div>\n      </component>\n    </vs-sidebar>\n\n    <!-- RIGHT COLUMN \n    RIGHT COLUMN CHAT.VUE-->\n    <div\n      class=\"chat__bg no-scroll-content chat-content-area border border-solid d-theme-border-grey-light border-t-0 border-r-0 border-b-0\"\n      :class=\"{\n        'sidebar-spacer--wide': clickNotClose,\n        'flex items-center justify-center': activeChatUser === null,\n      }\"\n    >\n      <template v-if=\"activeChatUser\">\n        <div class=\"chat__navbar\">\n          <chat-navbar\n            :isSidebarCollapsed=\"!clickNotClose\"\n            :user-id=\"activeChatUser\"\n            :isPinnedProp=\"isChatPinned\"\n            @openContactsSidebar=\"toggleChatSidebar(true)\"\n            @showProfileSidebar=\"showProfileSidebar\"\n            @toggleIsChatPinned=\"toggleIsChatPinned\"\n          ></chat-navbar>\n        </div>\n\n        <component\n          :is=\"scrollbarTag\"\n          class=\"chat-content-scroll-area border border-solid d-theme-border-grey-light\"\n          :settings=\"settings\"\n          ref=\"chatLogPS\"\n          :key=\"$vs.rtl\"\n        >\n          <div class=\"chat__log\" ref=\"chatLog\">\n            <chat-log :userId=\"activeChatUser\" v-if=\"activeChatUser\"></chat-log>\n          </div>\n        </component>\n\n        <div class=\"chat__input flex p-4 bg-white\">\n          <vs-input\n            class=\"flex-1\"\n            placeholder=\"Su Mensaje aqui\"\n            v-model=\"typedMessage\"\n            @keyup.enter=\"sendMsg\"\n          />\n\n          <vs-button\n            class=\"bg-primary-gradient ml-4\"\n            type=\"filled\"\n            @click=\"sendMsg\"\n            >Send</vs-button\n          >\n        </div>\n      </template>\n\n      <template v-else>\n        <div class=\"flex flex-col items-center\">\n          <feather-icon\n            icon=\"MessageSquareIcon\"\n            class=\"mb-4 bg-white p-8 shadow-md rounded-full\"\n            svgClasses=\"w-16 h-16\"\n          ></feather-icon>\n          <h4\n            class=\"py-2 px-4 bg-white shadow-md rounded-full cursor-pointer\"\n            @click.stop=\"toggleChatSidebar(true)\"\n          >\n            Start Conversation\n          </h4>\n        </div>\n      </template>\n    </div>\n  </div>\n  <div v-else>\n    <div class=\"flex flex-col items-center\">\n      conctado2: {{ getChatconnect }}\n    </div>\n    <div class=\"flex flex-col items-center\">\n      <!--TOKEN CHAT:{{getChatconnect}}-->\n\n      <feather-icon\n        icon=\"MessageSquareIcon\"\n        class=\"mb-4 bg-white p-8 shadow-md rounded-full\"\n        svgClasses=\"w-16 h-16\"\n      ></feather-icon>\n      <h4\n        class=\"py-2 px-4 bg-white shadow-md rounded-full cursor-pointer\"\n        @click.stop=\"recarga()\"\n      >\n        Start Conversation\n      </h4>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { mapActions } from \"vuex\";\n\nimport ChatContact from \"./ChatContact.vue\";\nimport ChatLog from \"./ChatLog.vue\";\nimport ChatNavbar from \"./ChatNavbar.vue\";\nimport UserProfile from \"./UserProfile.vue\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport moduleChat from \"@/store/chat/moduleChat.js\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n\n//import io from 'socket.io-client';\nexport default {\n  created() {\n    // this.$store.commit('chat/MUTSETCURRENTCONTACT',5);\n    this.contactId = this.$route.params.contactId;\n    this.$store.commit(\"chat/MUTSETCURRENTCONTACT\", 0);\n\n    let vm = this;\n    setTimeout(function (store) {\n      vm.$store.commit(\"chat/MUTSETCURRENTCONTACT\", vm.contactId);\n    }, 2000);\n\n    let datos = {\n      NumEmpresa: this.getProfile[0].Empresa,\n      userid: this.getProfile[0].num_user,\n    };\n    // contactos\n    this.getfetContacts(datos);\n    this.getChatContacts(datos);\n    this.setSidebarWidth();\n  },\n\n  mounted() {\n    try {\n      this.$socket.connect();\n      this.$store.commit(\n        \"chat/MUTCHATCONNECT\",\n        \"No Conectado sus Mensajes No seran Entregados\"\n      );\n\n     const payload = {\n        NumEmpresa: this.getProfile[0].Empresa,\n        username: this.getProfile[0].Username,\n        id: this.getProfile[0].num_user, \n        msg: {\n          textContent:  this.mensajeConectado,\n          time: String(new Date()),\n          isSent: true,\n          isSeen: false,\n        },\n      };\n\n      this.$socket.emit(\"TEST_CONNECTION\", payload, function (response) {\n        console.log(\"se disparo el   collback de Conectado \", response);\n      });\n    } catch (error) {\n      console.log(\"en Chat.vue  en mounted catch\" + error);\n    }\n    this.typedMessage = \"\";\n  },\n\n  data() {\n    return {\n      tokenChat: \"\",\n      colorConectado: \"text-danger\",\n      mensajeConectado: \"Listo* Puede Chatear\",\n      contactId: \"0\",\n\n      chatMsg: {\n        msg: 1,\n      },\n      messages: [],\n      active: true,\n      isHidden: false,\n      searchContact: \"\",\n      activeProfileSidebar: false,\n      activeChatUser: 118,\n      userProfileId: -1,\n      typedMessage: \"\",\n      isChatPinned: false,\n      settings: {\n        maxScrollbarLength: 60,\n        wheelSpeed: 0.7,\n      },\n      clickNotClose: true,\n      isChatSidebarActive: true,\n      isLoggedInUserProfileView: false,\n    };\n  },\n  watch: {\n    getChatconnect() {\n      if (this.getChatconnect == this.mensajeConectado)\n        this.colorConectado = \"text-success\";\n    },\n    chatMsg() {\n      console.log(\"mensaje\", this.chatMsg);\n      this.setMessage(this.chatMsg);\n    },\n\n    windowWidth() {\n      this.setSidebarWidth();\n    },\n    getProfile() {\n      console.log(\"cambio el profile CHAT LINEA 167 APROX\");\n      //  alert(\"profile cambio \");\n    },\n    getCurrentContact() {\n      if (this.getCurrentContact > 0) {\n        let usuariochat = this.getCurrentContact;\n        try {\n          usuariochat = parseInt(usuariochat, 10);\n        } catch (error) {}\n\n        this.updateActiveChatUser(usuariochat);\n      }\n\n      //  alert(\"profile cambio \");\n    },\n  },\n  computed: {\n    getChatconnect() {\n      return this.$store.state.chat.chatconnect;\n    },\n    getRecargar() {\n      return this.$store.state.recargar;\n    },\n    getCurrentContact() {\n      return this.$store.state.chat.currentContact;\n    },\n\n    getAppActiveUser() {\n      return this.$store.state.AppActiveUser;\n    },\n    getchats() {\n      return this.$store.state.chat.chats;\n    },\n    getProfile() {\n      return this.$store.state.dsoaLogin.profile;\n    },\n    // COMPONENTE DIVISOFT CHAT\n    getTokenChat() {\n      return this.$store.state.dsoaLogin.token;\n    },\n\n    chatLastMessaged() {\n\n      return (userId) => this.$store.getters[\"chat/chatLastMessaged\"](userId);\n\n    },\n    chatUnseenMessages() {\n      return (userId) => {\n        const unseenMsg = this.$store.getters[\"chat/chatUnseenMessages\"](\n          userId\n        );\n        if (unseenMsg) return unseenMsg;\n      };\n    },\n    activeUser() {\n      return this.$store.state.AppActiveUser;\n    },\n    getStatusColor() {\n      return (isActiveUser) => {\n        const userStatus = this.getUserStatus(isActiveUser);\n\n        if (userStatus === \"online\") {\n          return \"success\";\n        } else if (userStatus === \"do not disturb\") {\n          return \"danger\";\n        } else if (userStatus === \"away\") {\n          return \"warning\";\n        } else {\n          return \"grey\";\n        }\n      };\n    },\n    chatContacts() {\n      return this.$store.getters[\"chat/chatContacts\"];\n    },\n    contacts() {\n      return this.$store.getters[\"chat/contacts\"];\n    },\n\n    searchQuery: {\n      get() {\n        if (this.$store.state.chat.chatSearchQuery)\n          return this.$store.state.chat.chatSearchQuery;\n        else return \"\";\n      },\n      set(val) {\n        this.$store.dispatch(\"chat/setChatSearchQuery\", val);\n      },\n    },\n    scrollbarTag() {\n      return this.$store.getters.scrollbarTag;\n    },\n    isActiveChatUser() {\n      return (userId) => userId === this.activeChatUser;\n    },\n    windowWidth() {\n      return this.$store.state.windowWidth;\n    },\n  },\n  methods: {\n    recarga() {\n      this.searchQuery = \"\";\n      this.$router.go(this.$router.currentRoute);\n    },\n    getUserStatus(isActiveUser) {\n      // return \"active\"\n      return isActiveUser\n        ? this.$store.state.AppActiveUser.status\n        : this.contacts[this.activeChatUser].status;\n    },\n    closeProfileSidebar(value) {\n      this.activeProfileSidebar = value;\n    },\n\n    updateActiveChatUser(contactId) {\n      //  this.$store.commit('chat/MUTSETCURRENTCONTACT',5);\n      this.contactId = 0;\n\n      try {\n        this.activeChatUser = parseInt(contactId, 10);\n      } catch (error) {\n        this.activeChatUser = contactId;\n      }\n\n      let datos = {\n        NumEmpresa: this.getProfile[0].Empresa,\n        userid: this.getProfile[0].num_user,\n        userSend: contactId,\n      };\n\n      this.getfetChats(datos);\n\n      if (this.$store.getters[\"chat/chatDataOfUser\"](this.activeChatUser)) {\n        this.$store.dispatch(\"chat/markSeenAllMessages\", contactId);\n      }\n      const chatData = this.$store.getters[\"chat/chatDataOfUser\"](\n        this.activeChatUser\n      );\n      if (chatData) this.isChatPinned = chatData.isPinned;\n      else this.isChatPinned = false;\n      this.toggleChatSidebar();\n      this.typedMessage = \"\";\n    },\n    showProfileSidebar(userId, openOnLeft = false) {\n      try {\n        this.userProfileId = parseInt(userId, 10);\n      } catch (error) {\n        this.userProfileId = userId;\n      }\n\n      this.isLoggedInUserProfileView = openOnLeft;\n      this.activeProfileSidebar = !this.activeProfileSidebar;\n    },\n\n    sendMsg() {\n      //alert(\"divisoft envieando MENSAJE\");\n      if (!this.typedMessage) return;\n      if (!this.activeChatUser) return;\n\n      const payload = {\n        NumEmpresa: this.getProfile[0].Empresa,\n        isPinned: this.isChatPinned,\n        username: this.getProfile[0].Username,\n        sendusernum: this.getProfile[0].num_user,\n        usernameOriginal:this.getProfile[0].Username+\"-\"+this.getProfile[0].Nombre,\n\n        msg: {\n          textContent: this.typedMessage,\n          time: String(new Date()),\n          isSent: true,\n          isSeen: false,\n        },\n        id: this.activeChatUser,\n      };\n      //ADEMAR VER SI HAY COMUNICACION\n      console.log(\"enviando \", JSON.stringify(payload));\n\n      this.typedMessage = \"\";\n\n      // se lo manda al destinatrio\n\n      this.$socket.emit(\"SEND_MESSAGE\", payload, function (response) {\n        console.log(\"se disparo el  collback\", response);\n      });\n      // lo refresca en nuestro chat\n\n      this.$store.dispatch(\"chat/SENDCHATMESSAGE\", payload);\n\n      const scroll_el = this.$refs.chatLogPS.$el || this.$refs.chatLogPS;\n      scroll_el.scrollTop = this.$refs.chatLog.scrollHeight;\n    },\n\n    setMessage(data) {\n      this.$store.commit(\"chat/SEND_CHAT_MESSAGE\", data);\n    },\n\n    toggleIsChatPinned(value) {\n      this.isChatPinned = value;\n    },\n    setSidebarWidth() {\n      if (this.windowWidth < 1200) {\n        this.isChatSidebarActive = this.clickNotClose = false;\n      } else {\n        this.isChatSidebarActive = this.clickNotClose = true;\n      }\n    },\n    toggleChatSidebar(value = false) {\n      if (!value && this.clickNotClose) return;\n      this.isChatSidebarActive = value;\n    },\n\n    getfetContacts(datos) {\n      this.$store.dispatch(\"chat/fetchContacts\", datos);\n      return 1;\n    },\n\n    getfetChats(datos) {\n      this.$store.dispatch(\"chat/fetchChats\", datos);\n      return 1;\n    },\n    getChatContacts(datos) {\n      this.$store.dispatch(\"chat/fetchChatContacts\", datos);\n      return 1;\n    },\n  },\n  components: {\n    VuePerfectScrollbar,\n    ChatContact,\n    UserProfile,\n    ChatNavbar,\n    ChatLog,\n  },\n\n  /* beforeDestroy() {\n         this.$store.unregisterModule('chat')\n     }*/\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/vuexy/apps/chat.scss\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=758a14f5&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}